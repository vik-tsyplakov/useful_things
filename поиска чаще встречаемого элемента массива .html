<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      let users = [
        {
          name: {
            first: "Golden",
            last: "Clements",
          },

          favoriteFruit: "strawberry",
        },
        {
          name: {
            first: "Francis",
            last: "Hebert",
          },
          favoriteFruit: "apple",
        },
        {
          name: {
            first: "Hale",
            last: "Cross",
          },
          favoriteFruit: "strawberry",
        },
        {
          name: {
            first: "Delores",
            last: "Sykes",
          },
          favoriteFruit: "strawberry",
        },
        {
          name: {
            first: "Ryan",
            last: "Bolton",
          },
          favoriteFruit: "apple",
        },
        {
          name: {
            first: "Carey",
            last: "Schwartz",
          },
          favoriteFruit: "banana",
        },
        {
          name: {
            first: "Trevino",
            last: "Mullins",
          },
          favoriteFruit: "banana",
        },
        {
          name: {
            first: "Gilliam",
            last: "Mendez",
          },
          favoriteFruit: "strawberry",
        },
        {
          name: {
            first: "Brewer",
            last: "Vargas",
          },
          favoriteFruit: "apple",
        },
        {
          name: {
            first: "Newman",
            last: "Wynn",
          },
          favoriteFruit: "apple",
        },
      ];

      /* Функция для поиска чаще встречаемого элемента массива */

      function showMostFavoritedFruit() {
        let counters = {}; // создаем пустой объект, данный объект будет использоваться для подсчёта количества популярных фруктов
        // имя свойства соотвествует имени фрукта, значение свойства, количество раз сколько этот фрукт встречался в популярных

        // для каждого элемента массива выполняем указанную функцию
        users.forEach((user) => {
          // если свойсва с именем, например, counters["apple"] есть увеличиваем его значение
          if (counters[user.favoriteFruit]) {
            counters[user.favoriteFruit]++;
          } else {
            // если свойства нет создаем его присваивая значение 1
            counters[user.favoriteFruit] = 1;
          }
        });

        let maxCount = Number.MIN_VALUE;
        let favoriteFruit = "";
        for (const key in counters) {
          // цикл for in позволяет перебрать все свойства которые есть в объетке
          if (counters[key] > maxCount) {
            maxCount = counters[key]; // запоминаем максимальное значение
            favoriteFruit = key; // и запоминаем название фрукта, который был связан с этим максимальным значением
          }
        }
        // после завершения цикла в переменной favoriteFruit
        console.log(favoriteFruit + " чаще всего указан как любимый фрукт");
      }

      showMostFavoritedFruit();
    </script>
  </body>
</html>
